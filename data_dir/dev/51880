#include<bits/stdc++.h>
using namespace std;
int a[100][100],b[100][100],c[100][100],d[100];
int main(){
    ios_base::sync_with_stdio(0);cin.tie(0);
    int n,i,j,k,t;
    cin>>n>>t;
    for(i=0;i<n;i++)
        cin>>d[i];
    for(k=0;k<n;k++)
        for(i=0;i<n;i++){
            c[k][i]=0;
            if(d[i]<d[k])
                a[k][i]=-1e9;
            else{
                a[k][i]=1;
                for(j=0;j<i;j++)
                    if(d[j]<=d[i])
                        a[k][i]=max(a[k][i],a[k][j]+1);
            }
        }
    while(t){
        if(t%2){
            for(i=0;i<n;i++)
                for(j=0;j<n;j++){
                    b[i][j]=-1e9;
                    for(k=0;k<n;k++)
                        b[i][j]=max(b[i][j],c[i][k]+a[k][j]);
                }
            for(i=0;i<n;i++)
                for(j=0;j<n;j++)
                    c[i][j]=b[i][j];
        }
        for(i=0;i<n;i++)
            for(j=0;j<n;j++){
                b[i][j]=-1e9;
                for(k=0;k<n;k++)
                    b[i][j]=max(b[i][j],a[i][k]+a[k][j]);
            }
        for(i=0;i<n;i++)
            for(j=0;j<n;j++)
                a[i][j]=b[i][j];
        t/=2;
    }
    for(i=0;i<n;i++)
        for(j=0;j<n;j++)
            t=max(t,c[i][j]);
    cout<<t;
}
