#include<stdio.h>
#include<iostream>
#include<algorithm>
using namespace std;
long long a,s,d[100003][2],f,g,h,j,k,l,i,n,m;
main(){
cin>>n>>m;
for(i=1;i<=n;i++){
cin>>d[i][0];
}
for(i=0;i<m;i++){
cin>>a;
if(a==1) {cin>>f>>g;d[f][1]=g-k;d[f][0]=0;}
if(a==2) {cin>>f; k=k+f;}
if(a==3) {cin>>f; cout<<d[f][0]+d[f][1]+k<<endl;}
}
//system("pause");
}
