#include <bits/stdc++.h>
using namespace std;
int main()
{
    ios::sync_with_stdio(0),cin.tie(0),cout.tie(0);
    long long tcs,L,v,l,r;
    cin>>tcs;
    while(tcs--){
        cin>>L>>v>>l>>r;
        long long alllanterns=L/v,unseen=abs((r/v)-(l/v))+(l%v==0);
        cout<<alllanterns-unseen<<endl;
    }
    return 0;
}
