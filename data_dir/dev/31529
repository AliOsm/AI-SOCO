#include<iostream>
#include<fstream>
#include<cstring>

using namespace std;

int main()
{
    int n,m,i,j,A,B,C,c=0;
    ifstream in("input.txt");
    ofstream out("output.txt");
    in>>n;
    in>>m;
    int a[n][m],b[n][n],d[m][m];
    for(i=0;i<n;i++)
    {
                    int s=0;
                    for(j=0;j<m;j++)
                    {
                                    in>>a[i][j];
                                    s+=a[i][j];
                    }
                    b[i][i]=s;
    }
    in>>A>>B>>C;
    for(i=1;i<n;i++)
                      for(j=0;j<(n-i);j++)
                                          b[j][j+i]=b[j][j+i-1]+b[j+i][j+i];
    for(i=0;i<n-2;i++)
    {
                    if(b[0][i]==A||b[0][i]==B||b[0][i]==C)
                    {
                                                if(b[0][i]==A)
                                                {
                                                              for(j=i+1;j<n-1;j++)
                                                              {
                                                                                  if(b[i+1][j]==B||b[i+1][j]==C)
                                                                                  {
                                                                                                                if(b[i+1][j]==B)
                                                                                                                {
                                                                                                                                if(b[j+1][n-1]==C)
                                                                                                                                                  c++;
                                                                                                                }
                                                                                                                else
                                                                                                                {
                                                                                                                                if(b[j+1][n-1]==B)
                                                                                                                                                  c++;
                                                                                                                }
                                                                                  //break;
                                                                                  }
                                                              }
                                                }
                                                else if(b[0][i]==B)
                                                {
                                                              for(j=i+1;j<n-1;j++)
                                                              {
                                                                                  if(b[i+1][j]==A||b[i+1][j]==C)
                                                                                  {
                                                                                  if(b[i+1][j]==A)
                                                                                                                {
                                                                                                                                if(b[j+1][n-1]==C)
                                                                                                                                                  c++;
                                                                                                                }
                                                                                                                else
                                                                                                                {
                                                                                                                                if(b[j+1][n-1]==A)
                                                                                                                                                  c++;
                                                                                                                }
                                                                                  //break;
                                                                                  }
                                                              }
                                                }
                                                else if(b[0][i]==C)
                                                {
                                                              for(j=i+1;j<n-1;j++)
                                                              {
                                                                                  if(b[i+1][j]==A||b[i+1][j]==B)
                                                                                  {
                                                                                  if(b[i+1][j]==B)
                                                                                                                {
                                                                                                                                if(b[j+1][n-1]==A)
                                                                                                                                                  c++;
                                                                                                                }
                                                                                                                else
                                                                                                                {
                                                                                                                                if(b[j+1][n-1]==B)
                                                                                                                                                  c++;
                                                                                                                }
                                                                                  //break;
                                                                                  }
                                                              }
                                                }
                    }
    }
    for(i=0;i<m;i++)
    {
                    int s=0;
                    for(j=0;j<n;j++)
                    {
                                    s+=a[j][i];
                    }
                    d[i][i]=s;
    }
    for(i=1;i<m;i++)
                      for(j=0;j<(m-i);j++)
                                          d[j][j+i]=d[j][j+i-1]+d[j+i][j+i];
    for(i=0;i<m-2;i++)
    {
                    if(d[0][i]==A||d[0][i]==B||d[0][i]==C)
                    {
                                                if(d[0][i]==A)
                                                {
                                                              for(j=i+1;j<m-1;j++)
                                                              {
                                                                                  if(d[i+1][j]==B||d[i+1][j]==C)
                                                                                  {
                                                                                  if(d[i+1][j]==B)
                                                                                                                {
                                                                                                                                if(d[j+1][m-1]==C)
                                                                                                                                                  c++;
                                                                                                                }
                                                                                                                else
                                                                                                                {
                                                                                                                                if(d[j+1][m-1]==B)
                                                                                                                                                  c++;
                                                                                                                }
                                                                                  //break;
                                                                                  }
                                                              }
                                                }
                                                else if(d[0][i]==B)
                                                {
                                                              for(j=i+1;j<m-1;j++)
                                                              {
                                                                                  if(d[i+1][j]==A||d[i+1][j]==C)
                                                                                  {
                                                                                  if(d[i+1][j]==A)
                                                                                                                {
                                                                                                                                if(d[j+1][m-1]==C)
                                                                                                                                                  c++;
                                                                                                                }
                                                                                                                else
                                                                                                                {
                                                                                                                                if(d[j+1][m-1]==A)
                                                                                                                                                  c++;
                                                                                                                }
                                                                                  //break;
                                                                                  }
                                                              }
                                                }
                                                else if(d[0][i]==C)
                                                {
                                                              for(j=i+1;j<m-1;j++)
                                                              {
                                                                                  if(d[i+1][j]==A||d[i+1][j]==B)
                                                                                  {
                                                                                  if(d[i+1][j]==B)
                                                                                                                {
                                                                                                                                if(d[j+1][m-1]==A)
                                                                                                                                                  c++;
                                                                                                                }
                                                                                                                else
                                                                                                                {
                                                                                                                                if(d[j+1][m-1]==B)
                                                                                                                                                  c++;
                                                                                                                }
                                                                                  //break;
                                                                                  }
                                                              }
                                                }
                    }
    }
    out<<c;  
    //system("pause");            
    return 0;
}
                     
