#include<bits/stdc++.h>
using namespace std;
typedef long long ll;
#define po pop_back
#define pb push_back
#define mk make_pair
#define lw lower_bound
#define up upper_bound
#define ff first
#define ss second
#define MOD 1000000007
#define boost ios_base::sync_with_stdio(); cin.tie(0); cout.tie(0);
ll a,b=0,c[1234567],d[1234567],hi[1234567],lo[1234567],i,j,n,k,x,p;
map<ll,ll> m;
vector<ll> v,v1;
vector<ll> ::iterator it;
string s,s1;
set<ll> se;
queue<ll> q;
deque<ll> dq;
int main(){
	boost
	cin>>n;
	for(i=1;i<=n;i++){cin>>d[i];if(d[i]!=0)s+=d[i]+'0';}
	for(i=1;i<=n;i++){cin>>c[i];if(c[i]!=0)s1+=c[i]+'0';}
	s+=s;
	if(s.find(s1)!=-1){
	    cout<<"YES";
	}
	else cout<<"NO";
}