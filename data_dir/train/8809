#define  _CRT_SECURE_NO_WARNINGS
#include<bits/stdc++.h>
#define read freopen("in.in","r",stdin)
#define write freopen("out.out","w",stdout)
using namespace std;

typedef long long ll;

int main(){
	//read; write;
	ll t; 
	cin >> t;
	while (t--){
		ll s, a, b, c;
		cin >> s >> a >> b >> c;
		ll bar = s / c;
		cout << (bar / a)*b + bar << endl;
	}
	
	return 0;
}