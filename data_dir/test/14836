#include<iostream>
#define p printf("%.8f\n",s*1.0/(1<<n))
using namespace std;long long n,r,a[1<<18],s,z,g,i;int main(){cin>>n>>r;for(i=0;i<1<<n;i++)cin>>a[i],s+=a[i];p;while(r--)cin>>z>>g,s-=a[z],s+=a[z]=g,p;}