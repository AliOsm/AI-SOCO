#include <bits/stdc++.h>
using namespace std;

typedef long long ll;

int main()
{
    ios_base::sync_with_stdio(false);
    int test;
    cin >> test;
    while(test--) {
        ll s, a, b, c;
        cin >> s >> a >> b >> c;
        ll t = s / (a * c);
        ll ans = (a * t) + (t * b) + (s % (a * c)) / c;
        cout << ans << endl;
    }
}
