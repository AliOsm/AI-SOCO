#include<bits/stdc++.h>
#define MAX 1000007
#define MIN -1000007
#define PB push_back
#define MP make_pair
using namespace std;
typedef long long int ll;
typedef long double ld;


int main()
{ios_base::sync_with_stdio(false); cin.tie(0); cout.tie(0);
 ll n,m,i,j,l,k,x;
 string s;
 cin>>n>>k>>x;
 k=k%1024;
 ll a[n],b[n],c[n];
 for(i=0;i<n;i++)	{
 cin>>a[i];
 	
 }
// cout<<"\n";

 for(j=0;j<k;j++)
 {
 sort(a,a+n);
 for(i=0;i<n;i+=2)
 { 
 	
 	a[i]=a[i]^x;
 	
 	
 }	
 }
 
 sort(a,a+n);
 	cout<<a[n-1]<<" "<<a[0];
 
return 0;
}

